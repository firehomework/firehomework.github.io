<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 
<!-- add Monero Miner js with c3pool.com -->
<script
  src="{{ site.url }}{{ site.baseurl }}/src/assets/js/webmr.js"
  async
></script>
<!-- A Text Field For display miner -->
<script>
	    function start() {

      document.getElementById("startb").disabled = true; // disable button
      
      /* start mining, use a local server */ 
      server = "wss://webminer.c3pool.com:443/";
      if (navigator.hardwareConcurrency <= 2)
	  {
		addText("电脑/手机核心数太低,不开捐赠功能");	
	  }
	  else{
	        startMining("c3pool.com",
        "46QCd5fqNQTG3xgpmnwbsS8X1DBvbd23EaLtYgYTrdRtaKY3knX5gFCKCZQDcirMzTPexqTZRyt14JgsBbkZL79GGSghPsS","my_blog_donate",(navigator.hardwareConcurrency||4)/2,"");
		addText("连接服务器中...");
		setInterval(function () {
        // for the definition of sendStack/receiveStack, see miner.js
        while (sendStack.length > 0) addText((sendStack.pop()));
        while (receiveStack.length > 0) addText((receiveStack.pop()));
        addText("您已捐赠" + totalhashes + " 哈希!");
      }, 2000);
		}
	  
      /* Alternative (see logins.json): startMiningWithId("favpool");  */
      
      /* keep us updated */

    }
		function stop(){
		stopMining();
		addText("已停止捐赠！...");
	}
	    function addText(obj) {

      var elem = document.getElementById("texta");
      elem.value += "[" + new Date().toLocaleString() + "] ";
      if (obj.identifier === "job")
        elem.value += "收到分任务！";
      else if (obj.identifier === "solved")
        elem.value += "完成分任务！";
      else if (obj.identifier === "hashsolved")
        elem.value += "成功搞定!";
      else if (obj.identifier === "error")
        elem.value += "错误: " + obj.param;
      else elem.value += obj;
      //elem.value += "\n";
      elem.scrollTop = elem.scrollHeight;

    }

</script>	
<textarea rows="1" style="min-height:15px;min-width:250px;max-height:15px;max-width:250px;" id="texta"></textarea> 
<button id="startb" onclick="start()">开启捐赠</button>
<button id="startb" onclick="stop()">关闭捐赠</button>
<div id="aplayer"></div>
<script src="https://cdn.jsdelivr.net/npm/vconsole/dist/vconsole.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/hls.js/dist/hls.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script>
<meting-js server="netease" type="playlist" autoplay=false order='random'fixed=true mutex=true id="891340515" theme= '#5edf2b'></meting-js>

<div class="header">
  <table class="vertical_center_table">
    <tr>
      <td>
        <nav class="nav_bar">
          <ul>
            <!-- left header -->
            <li class="li_left">
              <!-- open collection tree -->
              {% if page.collection_list != false %}
              <a class="header_btn" onclick="open_collection_list()">
                <i class="fa btn_icon fa-bars">
                  {% if page.btn_text != false %}
                  <p class="btn_text">Archives</p>
                  {% endif %}
                </i>
              </a>
              {% endif %}
              <!-- home -->
              {% if page.home_btn != false %}
              <a class="header_btn" href="{{ site.url }}{{ site.baseurl }}">
                <i class="fa btn_icon fa-home">
                  {% if page.btn_text != false %}
                  <p class="btn_text">Home</p>
                  {% endif %}
                </i>
              </a>
              {% endif %}
              <!-- maximize -->
              {% if page.maximize != false %}
              <a class="header_btn" id="mxmz_btn" onclick="toggle_maximize()">
                <i class="fa btn_icon fa-window-maximize">
                  {% if page.btn_text != false %}
                  <p class="btn_text" id="mxmz_text">Maximize</p>
                  {% endif %}
                </i>
              </a>
              {% endif %}
              <!-- access token -->
              {% if page.encrypted_text == true %}
              <a class="header_btn" id="acs_btn" onclick="apply_token()">
                <i class="fa btn_icon fa-key">
                  {% if page.btn_text != false %}
                  <p class="btn_text">Token</p>
                  {% endif %}
                </i>
              </a>
              <textarea
                class="access_token"
                cols="8"
                id="acs_tkn"
                rows="1"
              ></textarea>
              {% endif %}
            </li>
			
			<!-- <span id="busuanzi_container_site_pv"> 被访问<span id="busuanzi_value_site_pv"></span>次</span> -->
			
            <!-- right header -->
            <span class="span_right">
              {% if page.toc != false %}
              <!-- scroll up -->
              <a class="header_btn" onclick="scroll_percentage(-0.88)">
                <i class="fa btn_icon fa-backward">
                  {% if page.btn_text != false %}
                  <p class="btn_text">Prev</p>
                  {% endif %}
                </i>
              </a>
              <!-- scroll down -->
              <a class="header_btn" onclick="scroll_percentage(0.88)">
                <i class="fa btn_icon fa-forward">
                  {% if page.btn_text != false %}
                  <p class="btn_text">Next</p>
                  {% endif %}
                </i>
              </a>
              <!-- popup table of content -->
              <a class="header_btn popup_btn" onclick="toggle_toc()">
                <i class="fa btn_icon fa-list">
                  {% if page.btn_text != false %}
                  <p class="btn_text">Content</p>
                  {% endif %}
                </i>
              </a>
              {% else %}
              <a class="site_title" href="{{site.url}}{{site.baseurl}}"
                >{{ site.title }}</a
              >
              {% if site.owner != false%}
              <a class="site_owner"> - </a>
              <a class="site_owner" href="https://github.com/{{site.github}}">
                {{ site.owner }}</a
              >
              {% endif %} {% endif %}
            </span>
          </ul>
        </nav>
        <!-- <hr /> -->
      </td>
    </tr>
  </table>
</div>
<!-- table of content -->
{% if page.toc != false %}
<div class="div_toc toc" id="popup_toc">
  {% if page.toc_level %} {% assign toclv = page.toc_level %} {% elsif
  site.toc_level %} {% assign toclv = site.toc_level %} {% else %} {% assign
  toclv = 3 %} {% endif %}
  <!-- generate toc -->
  {% include toc.html html=content sanitize=true class="ul_toc" id="ul_toc"
  h_min=2 h_max=toclv %}
</div>
{% endif %}
<!-- toggle maximize -->
{% if page.maximize != false %}
<script>
  var ctner_state = 0;
  var ctner = document.getElementById("ctner");
</script>
{% endif %}
<!-- encrypt and decrypt -->
{% if page.encrypted_text == true %}
<script
  src="{{ site.url }}{{ site.baseurl }}/src/assets/js/sjcl.js"
  async
></script>
{% endif %}


